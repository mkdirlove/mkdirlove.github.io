<div class="fusion-layout-column fusion_builder_column fusion-builder-column-1 fusion_builder_column_1_1 1_1 fusion-flex-column" style="--awb-bg-size:cover;--awb-width-large:100%;--awb-margin-top-large:0px;--awb-spacing-right-large:1.92%;--awb-margin-bottom-large:0px;--awb-spacing-left-large:1.92%;--awb-width-medium:100%;--awb-order-medium:0;--awb-spacing-right-medium:1.92%;--awb-spacing-left-medium:1.92%;--awb-width-small:100%;--awb-order-small:0;--awb-spacing-right-small:1.92%;--awb-spacing-left-small:1.92%;"><div class="fusion-column-wrapper fusion-column-has-shadow fusion-flex-justify-content-flex-start fusion-content-layout-column"><div class="fusion-text fusion-text-2"><style>.mwai-chat {
  --mwai-spacing: 15px;
  --mwai-fontSize: 15px;
  --mwai-lineHeight: 1.5;
  --mwai-borderRadius: 10px;
  --mwai-width: 460px;
  --mwai-maxHeight: 40vh;
  --mwai-iconTextColor: white;
  --mwai-iconTextBackgroundColor: #343541;
  --mwai-fontColor: #FFFFFF;
  --mwai-backgroundPrimaryColor: #454654;
  --mwai-backgroundHeaderColor: #343541;
  --mwai-headerButtonsColor: #FFFFFF;
  --mwai-backgroundSecondaryColor: #343541;
}

.mwai-chat * {
  box-sizing: border-box;
}

.mwai-chat .mwai-content {
  background: var(--mwai-backgroundSecondaryColor);
  color: var(--mwai-fontColor);
  font-size: var(--mwai-fontSize);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border-radius: var(--mwai-borderRadius);
}

.mwai-chat .mwai-conversation {
  overflow: auto;
}

.mwai-chat .mwai-reply {
  display: flex;
  padding: var(--mwai-spacing);
  position: relative;
  line-height: var(--mwai-lineHeight);
  border-bottom: 1px solid var(--mwai-backgroundPrimaryColor);
  transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

.mwai-chat .mwai-reply .mwai-copy-button {
  opacity: 0;
  transition: all 0.3s ease-out;
  width: 22px;
  height: 22px;
  position: absolute;
  right: var(--mwai-spacing);
}

.mwai-chat .mwai-reply .mwai-copy-button .mwai-copy-button-one {
  position: absolute;
  width: 16px;
  height: 16px;
  margin-top: 0px;
  margin-left: 0px;
  background: white;
  opacity: 0.4;
  transition: all 0.2s ease-in;
  cursor: pointer;
  border-radius: 2px;
}

.mwai-chat .mwai-reply .mwai-copy-button .mwai-copy-button-two {
  position: absolute;
  width: 16px;
  height: 16px;
  margin-top: 6px;
  margin-left: 6px;
  background: white;
  opacity: 0.6;
  transition: all 0.2s ease-in;
  cursor: pointer;
  border-radius: 2px;
}

.mwai-chat .mwai-reply .mwai-copy-button:hover .mwai-copy-button-one {
  opacity: 0.6;
  margin-top: 0px;
  margin-left: 6px;
}

.mwai-chat .mwai-reply .mwai-copy-button:hover .mwai-copy-button-two {
  opacity: 1;
  margin-top: 6px;
  margin-left: 0px;
}

.mwai-chat .mwai-reply .mwai-copy-button.mwai-animate .mwai-copy-button-one {
  opacity: 0;
}

.mwai-chat .mwai-reply .mwai-copy-button.mwai-animate .mwai-copy-button-two {
  width: 18px;
  height: 18px;
  margin-top: 2px;
  margin-left: 2px;
  opacity: 1;
}

.mwai-chat .mwai-reply.mwai-fade-out {
  opacity: 0;
}

.mwai-chat .mwai-reply:hover .mwai-copy-button {
  display: block;
  opacity: 1;
}

.mwai-chat .mwai-user {
  background: var(--mwai-backgroundSecondaryColor);
}

.mwai-chat .mwai-ai, .mwai-chat .mwai-system {
  background: var(--mwai-backgroundPrimaryColor);
}

.mwai-chat .mwai-name {
  color: var(--mwai-fontColor);
  margin-right: 5px;
}

.mwai-chat .mwai-name .mwai-name-text {
  opacity: 0.50;
  white-space: nowrap;
}

.mwai-chat .mwai-name .mwai-avatar {
  margin-right: 10px;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 5px;
  overflow: hidden;
}

.mwai-chat .mwai-name .mwai-avatar img {
  max-width: 100%;
  max-height: 100%;
}

.mwai-chat .mwai-name .mwai-avatar.mwai-svg img {
  width: 28px;
  height: 28px;
  filter: brightness(0) invert(1);
}

.mwai-chat .mwai-text {
  flex: auto;
  font-size: var(--mwai-fontSize);
  line-height: var(--mwai-lineHeight);
  color: var(--mwai-fontColor);
  font-size: var(--mwai-fontSize);
}

.mwai-chat .mwai-text * {
  font-size: var(--mwai-fontSize);
}

.mwai-chat .mwai-text *:first-child {
  margin-top: 0;
}

.mwai-chat .mwai-text *:last-child {
  margin-bottom: 0;
}

.mwai-chat .mwai-text a {
  color: #2196f3;
}

.mwai-chat .mwai-text h1 {
  font-size: 200%;
}

.mwai-chat .mwai-text h2 {
  font-size: 160%;
}

.mwai-chat .mwai-text h3 {
  font-size: 140%;
}

.mwai-chat .mwai-text h4 {
  font-size: 120%;
}

.mwai-chat .mwai-text p {
  display: contents;
}

.mwai-chat .mwai-text p code {
  background: var(--mwai-backgroundSecondaryColor);
  padding: 2px 6px;
  border-radius: 8px;
  font-size: 90%;
  font-family: system-ui;
}

.mwai-chat .mwai-text pre {
  color: var(--mwai-fontColor);
  border-radius: var(--mwai-borderRadius);
  padding: calc(var(--mwai-spacing) * 2 / 3) var(--mwai-spacing);
  break-after: auto;
  white-space: pre-wrap;
  font-size: 95%;
  max-width: 100%;
  width: 100%;
  font-family: system-ui;
  background: #343541;
}

.mwai-chat .mwai-text pre code {
  padding: 0 !important;
  font-family: system-ui;
  background: #343541;
}

.mwai-chat .mwai-text ol {
  padding: 0;
  margin: 0 0 0 20px;
}

.mwai-chat .mwai-text table {
  width: 100%;
  border: 2px solid var(--mwai-backgroundSecondaryColor);
  border-collapse: collapse;
}

.mwai-chat .mwai-text thead {
  background: var(--mwai-backgroundSecondaryColor);
}

.mwai-chat .mwai-text tr, .mwai-chat .mwai-text td {
  padding: 2px 5px;
}

.mwai-chat .mwai-text td {
  border: 2px solid var(--mwai-backgroundSecondaryColor);
}

.mwai-chat .mwai-text .mwai-typewriter {
  display: inline-block;
}

.mwai-chat .mwai-text .mwai-typewriter &gt; :first-child {
  margin-top: 0;
}

.mwai-chat .mwai-text &gt; *:first-child {
  margin-top: 0;
}

.mwai-chat .mwai-text &gt; *:last-child {
  margin-bottom: 0;
}

.mwai-chat .mwai-system .mwai-name {
  display: none;
}

.mwai-chat .mwai-input {
  display: flex;
  padding: var(--mwai-spacing);
  border-top: 1px solid var(--mwai-backgroundPrimaryColor);
}

.mwai-chat .mwai-input textarea {
  background: var(--mwai-backgroundPrimaryColor);
  color: var(--mwai-fontColor);
  flex: auto;
  padding: var(--mwai-spacing);
  border: none;
  border-radius: var(--mwai-borderRadius);
  font-size: var(--mwai-fontSize);
  resize: none;
  font-family: inherit;
  margin: 0;
  overflow: hidden;
}

.mwai-chat .mwai-input textarea:focus {
  outline: none;
  box-shadow: none;
}

.mwai-chat .mwai-input textarea::placeholder {
  color: var(--mwai-fontColor);
  opacity: 0.5;
}

.mwai-chat button {
  background: none;
  color: var(--mwai-fontColor);
  background-color: var(--mwai-backgroundSecondaryColor);
  border: 1px solid var(--mwai-backgroundPrimaryColor);
  margin-left: var(--mwai-spacing);
  width: 90px;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.2s ease-out;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 90%;
  position: relative;
}

.mwai-chat button .mwai-timer {
  margin-left: 5px;
  margin-right: 5px;
  font-size: 11px;
}

.mwai-chat button:hover {
  background: var(--mwai-backgroundPrimaryColor);
}

.mwai-chat button[disabled] span {
  display: none;
}

.mwai-chat button[disabled]:before {
  content: '';
  width: 18px;
  height: 18px;
  margin: auto;
  border: 3px solid transparent;
  border-top-color: var(--mwai-fontColor);
  border-radius: 50%;
  animation: mwai-button-spinner 1s ease infinite;
}

.mwai-chat .mwai-compliance {
  opacity: 0.50;
  margin-top: calc( -1 * var(--mwai-spacing));
  padding: calc(var(--mwai-spacing) / 1.5) var(--mwai-spacing);
  font-size: smaller;
  color: var(--mwai-fontColor);
  text-align: left;
}

.mwai-chat .mwai-gallery {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-gap: 5px;
}

.mwai-chat .mwai-gallery img {
  width: 100%;
}

.mwai-open-button {
  position: absolute;
  right: 0;
  bottom: 0;
  transition: all 0.2s ease-out;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  align-items: end;
}

.mwai-open-button .mwai-icon-text {
  background: var(--mwai-iconTextBackgroundColor);
  color: var(--mwai-iconTextColor);
  max-width: 200px;
  font-size: 13px;
  margin-bottom: 15px;
  padding: 5px 10px;
  border-radius: 8px;
}

.mwai-open-button:hover {
  cursor: pointer;
  filter: saturate(2.5) hue-rotate(5deg);
}

.mwai-window {
  position: fixed;
  right: 30px;
  bottom: 30px;
  width: var(--mwai-width);
  z-index: 9999;
}

.mwai-window .mwai-header {
  display: none;
  justify-content: flex-end;
  align-items: center;
  border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius) 0 0;
  background: var(--mwai-backgroundHeaderColor);
}

.mwai-window .mwai-header .mwai-buttons {
  display: flex;
  align-items: center;
}

.mwai-window .mwai-header .mwai-buttons .mwai-resize-button {
  justify-content: center;
  height: 32px;
  width: 22px;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
}

.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:before {
  transition: all 0.2s ease-out;
  content: ' ';
  cursor: pointer;
  position: absolute;
  height: 13px;
  width: 13px;
  border: 1px solid var(--mwai-headerButtonsColor);
}

.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:hover:before {
  width: 16px;
  height: 16px;
}

.mwai-window .mwai-header .mwai-buttons .mwai-close-button {
  justify-content: center;
  height: 32px;
  width: 33px;
  cursor: pointer;
  border-radius: var(--mwai-borderRadius);
}

.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before {
  transition: all 0.2s ease-out;
  transform: translate(16px, 5px) rotate(45deg);
}

.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {
  transition: all 0.2s ease-out;
  transform: translate(16px, 5px) rotate(-45deg);
}

.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before, .mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {
  content: ' ';
  cursor: pointer;
  position: absolute;
  height: 22px;
  width: 1px;
  background-color: var(--mwai-headerButtonsColor);
}

.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:before {
  opacity: 1;
  transform: translate(16px, 5px) rotate(135deg);
}

.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:after {
  opacity: 1;
  transform: translate(16px, 5px) rotate(45deg);
}

.mwai-window .mwai-content {
  display: none;
  opacity: 0;
  max-height: var(--mwai-maxHeight);
  border-radius: 0 0 var(--mwai-borderRadius) var(--mwai-borderRadius);
  overflow: hidden;
}

.mwai-window.mwai-bottom-left {
  bottom: 30px;
  right: inherit;
  left: 30px;
}

.mwai-window.mwai-bottom-left .mwai-open-button {
  right: inherit;
  left: 0;
}

.mwai-window.mwai-top-right {
  top: 30px;
  bottom: inherit;
  right: 30px;
}

.mwai-window.mwai-top-right .mwai-open-button {
  top: 0;
  bottom: inherit;
}

.mwai-window.mwai-top-left {
  top: 30px;
  bottom: inherit;
  right: inherit;
  left: 30px;
}

.mwai-window.mwai-top-left .mwai-open-button {
  top: 0;
  bottom: inherit;
  right: inherit;
  left: 0;
}

.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons {
  margin-bottom: 0px;
}

.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:before {
  width: 16px;
  height: 16px;
}

.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:hover:before {
  width: 13px;
  height: 13px;
}

.mwai-fullscreen:not(.mwai-window), .mwai-fullscreen.mwai-window.mwai-open {
  position: fixed;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  top: 0 !important;
  width: inherit;
  height: inherit;
  max-height: inherit;
  max-width: inherit;
  display: flex;
  flex-direction: column;
  margin: 0;
  z-index: 999999;
  background-color: var(--mwai-backgroundSecondaryColor);
}

.mwai-fullscreen:not(.mwai-window) .mwai-content, .mwai-fullscreen.mwai-window.mwai-open .mwai-content {
  height: 100%;
  max-height: inherit;
}

.mwai-fullscreen:not(.mwai-window) .mwai-content .mwai-conversation, .mwai-fullscreen.mwai-window.mwai-open .mwai-content .mwai-conversation {
  flex: auto;
  max-height: none;
}

.mwai-window.mwai-open .mwai-header {
  display: flex;
}

.mwai-window.mwai-open .mwai-content {
  display: flex;
  transition: opacity 200ms ease-in-out 0s;
  opacity: 1;
}

.mwai-window.mwai-open .mwai-open-button {
  display: none;
}

@keyframes mwai-button-spinner {
  from {
    transform: rotate(0turn);
  }
  to {
    transform: rotate(1turn);
  }
}

.admin-bar .mwai-fullscreen:not(.mwai-window),
.admin-bar .mwai-fullscreen.mwai-window.mwai-open {
  top: 32px;
}

@media (max-width: 760px) {
  .mwai-chat.mwai-window {
    left: 10px;
    right: 10px;
    bottom: 10px;
    width: calc(100% - 20px);
    z-index: 9999999999;
  }
  .mwai-chat .mwai-reply {
    flex-direction: column;
  }
  .mwai-chat .mwai-input {
    flex-direction: column;
  }
}

.mwai-copy-button {
  opacity: 0;
  transition: all 0.3s ease-out;
  width: 22px;
  height: 22px;
  position: absolute;
  right: var(--mwai-spacing);
}

.mwai-copy-button .mwai-copy-button-one {
  position: absolute;
  width: 16px;
  height: 16px;
  margin-top: 0px;
  margin-left: 0px;
  background: white;
  opacity: 0.4;
  transition: all 0.2s ease-in;
  cursor: pointer;
  border-radius: 2px;
}

.mwai-copy-button .mwai-copy-button-two {
  position: absolute;
  width: 16px;
  height: 16px;
  margin-top: 6px;
  margin-left: 6px;
  background: white;
  opacity: 0.6;
  transition: all 0.2s ease-in;
  cursor: pointer;
  border-radius: 2px;
}

.mwai-copy-button:hover .mwai-copy-button-one {
  opacity: 0.6;
  margin-top: 0px;
  margin-left: 6px;
}

.mwai-copy-button:hover .mwai-copy-button-two {
  opacity: 1;
  margin-top: 6px;
  margin-left: 0px;
}

.mwai-copy-button.mwai-animate .mwai-copy-button-one {
  opacity: 0;
}

.mwai-copy-button.mwai-animate .mwai-copy-button-two {
  width: 18px;
  height: 18px;
  margin-top: 2px;
  margin-left: 2px;
  opacity: 1;
}

.mwai-chat .mwai-reply:hover .mwai-copy-button {
  display: block;
  opacity: 1;
}

.mwai-chat pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em;
}

.mwai-chat code.hljs {
  padding: 3px 5px;
}

.mwai-chat .hljs {
  color: #fff;
  background: #1c1b1b;
}

.mwai-chat .hljs-subst {
  color: #fff;
}

.mwai-chat .hljs-comment {
  color: #999;
}

.mwai-chat .hljs-attr, .mwai-chat .hljs-doctag, .mwai-chat .hljs-keyword, .mwai-chat .hljs-meta .hljs-keyword, .mwai-chat .hljs-section, .mwai-chat .hljs-selector-tag {
  color: #88aece;
}

.mwai-chat .hljs-attribute {
  color: #c59bc1;
}

.mwai-chat .hljs-name, .mwai-chat .hljs-number, .mwai-chat .hljs-quote, .mwai-chat .hljs-selector-id, .mwai-chat .hljs-template-tag, .mwai-chat .hljs-type {
  color: #f08d49;
}

.mwai-chat .hljs-selector-class {
  color: #88aece;
}

.mwai-chat .hljs-link, .mwai-chat .hljs-regexp, .mwai-chat .hljs-selector-attr, .mwai-chat .hljs-string, .mwai-chat .hljs-symbol, .mwai-chat .hljs-template-variable, .mwai-chat .hljs-variable {
  color: #b5bd68;
}

.mwai-chat .hljs-meta, .mwai-chat .hljs-selector-pseudo {
  color: #88aece;
}

.mwai-chat .hljs-built_in, .mwai-chat .hljs-literal, .mwai-chat .hljs-title {
  color: #f08d49;
}

.mwai-chat .hljs-bullet, .mwai-chat .hljs-code {
  color: #ccc;
}

.mwai-chat .hljs-meta .hljs-string {
  color: #b5bd68;
}

.mwai-chat .hljs-deletion {
  color: #de7176;
}

.mwai-chat .hljs-addition {
  color: #76c490;
}

.mwai-chat .hljs-emphasis {
  font-style: italic;
}

.mwai-chat .hljs-strong {
  font-weight: 700;
}

@media (max-width: 760px) {
  .mwai-chat .mwai-input button {
    margin: 15px 0 0 0;
    height: 40px;
    width: inherit;
  }
  .mwai-chat .mwai-name {
    margin-right: 0;
    max-width: inherit;
  }
}


</style>			<div id="mwai-chat-6448707992065" class="mwai-chat mwai-chatgpt">
								<div class="mwai-content">
					<div class="mwai-conversation">
					<div class="mwai-reply mwai-ai"><span class="mwai-name"><div class="mwai-name-text"></div></div></div>
					<div class="mwai-input">
						<textarea rows="1" maxlength="512" placeholder="Type your message..."></textarea>
						<button><span>Send</span></button>
					</div>
									</div>
			</div>

			<script>
			(function () {
				let isMobile = window.matchMedia( "only screen and (max-width: 760px)" ).matches;
				let isWindow = false;
				let isDebugMode = true;
				let isFullscreen = false;
				let restNonce = '248ee27302';
				let apiURL = 'https://www.pinoygpt.com/wp-json/ai-chatbot/v1/chat';
				let isCasuallyFineTuned = false;
				let rawUserName = 'User: ';
				let rawAiName = 'AI: ';
				let userName = '<div class="mwai-name-text">User:</div>';
				let aiName = '<div class="mwai-name-text">AI:</div>';
				let sysName = 'System:';
				let env = 'chatbot';
				let apiKey = '';
				let service = 'openai';
				let session = 'N/A';
				let mode = 'chat';
				let model = 'gpt-3.5-turbo';
				let context = isCasuallyFineTuned ? null : 'Converse as if you were an AI assistant. Be friendly, creative.';
				let embeddingsIndex = '';
				let promptEnding = '';
				let stop = '';
				let startSentence = 'Hi! Ask me anything...';
				let maxSentences = 15;
				let memorizeChat = false;
				let maxTokens = 1024;
				let maxResults = 1;
				let temperature = 0.8;
				let typewriter = true;
				let copyButton = false;
				let clientId = randomStr();
				let memorizedChat = { clientId, messages: [] };

				if (isDebugMode) {
					window.mwai_6448707992065 = {
						memorizedChat: memorizedChat,
						parameters: { mode: mode, model, temperature, maxTokens, context: context, startSentence,
							isMobile, isWindow, isFullscreen, isCasuallyFineTuned, memorizeChat, maxSentences,
							rawUserName, rawAiName, embeddingsIndex, typewriter, maxResults, userName, aiName, env, apiKey, service, session
						}
					};
				}

				function randomStr() {
					return Math.random().toString(36).substring(2);
				}

				// Set button text
				function setButtonText() {
					let input = document.querySelector('#mwai-chat-6448707992065 .mwai-input textarea');
					let button = document.querySelector('#mwai-chat-6448707992065 .mwai-input button');
					let buttonSpan = button.querySelector('span');
					if (memorizedChat.messages.length < 2) {
						buttonSpan.innerHTML = 'Send';
					}
					else if (!input.value.length) {
						button.classList.add('mwai-clear');
						buttonSpan.innerHTML = 'Clear';
					}
					else {
						button.classList.remove('mwai-clear');
						buttonSpan.innerHTML = 'Send';
					}
				}

				// Inject timer
				function injectTimer(element) {
					let intervalId;
					let startTime = new Date();
					let timerElement = null;

					function updateTimer() {
						let now = new Date();
						let timer = Math.floor((now - startTime) / 1000);
						if (!timerElement) {
							if (timer > 0.5) {
								timerElement = document.createElement('div');
								timerElement.classList.add('mwai-timer');
								element.appendChild(timerElement);
							}
						}
						if (timerElement) {
							let minutes = Math.floor(timer / 60);
							let seconds = timer - (minutes * 60);
							seconds = seconds < 10 ? '0' + seconds : seconds;
							let display = minutes + ':' + seconds;
							timerElement.innerHTML = display;
						}
					}

					intervalId = setInterval(updateTimer, 500);

					return function stopTimer() {
						clearInterval(intervalId);
						if (timerElement) {
							timerElement.remove();
						}
					};
				}

				// Push the reply in the conversation
				function addReply(text, role = 'user', replay = false) {
					var conversation = document.querySelector('#mwai-chat-6448707992065 .mwai-conversation');

					if (memorizeChat) {
						localStorage.setItem('mwai-chat-6448707992065', JSON.stringify(memorizedChat));
					}

					// If text is array, then it's image URLs. Let's create a simple gallery in HTML in $text.
					if (Array.isArray(text)) {
						var newText = '<div class="mwai-gallery">';
						for (var i = 0; i < text.length; i++) {
							newText += '<a href="' + text[i] + '" target="_blank"><img src="' + text[i] + '" />';
						}
						text = newText + '</div>';
					}

					var mwaiClasses = ['mwai-reply'];
					if (role === 'assistant') {
						mwaiClasses.push('mwai-ai');
					}
					else if (role === 'system') {
						mwaiClasses.push('mwai-system');
					}
					else {
						mwaiClasses.push('mwai-user');
					}
					var div = document.createElement('div');
					div.classList.add(...mwaiClasses);
					var nameSpan = document.createElement('span');
					nameSpan.classList.add('mwai-name');
					if (role === 'assistant') {
						nameSpan.innerHTML = aiName;
					}
					else if (role === 'system') {
						nameSpan.innerHTML = sysName;
					}
					else {
						nameSpan.innerHTML = userName;
					}
					var textSpan = document.createElement('span');
					textSpan.classList.add('mwai-text');
					textSpan.innerHTML = text;
					div.appendChild(nameSpan);
					div.appendChild(textSpan);

					// Copy Button
					if (copyButton && role === 'assistant') {
						var button = document.createElement('div');
						button.classList.add('mwai-copy-button');
						var firstElement = document.createElement('div');
						firstElement.classList.add('mwai-copy-button-one');
						var secondElement = document.createElement('div');
						secondElement.classList.add('mwai-copy-button-two');
						button.appendChild(firstElement);
						button.appendChild(secondElement);
						div.appendChild(button);
						button.addEventListener('click', function () {
							try {
								var content = textSpan.textContent;
								navigator.clipboard.writeText(content);
								button.classList.add('mwai-animate');
								setTimeout(function () {
									button.classList.remove('mwai-animate');
								}, 1000);
							}
							catch (err) {
								console.warn('Not allowed to copy to clipboard. Make sure your website uses HTTPS.');
							}
						});
					}

					conversation.appendChild(div);

					if (typewriter) {
						if (role === 'assistant' && text !== startSentence && !replay) {
							let typewriter = new Typewriter(textSpan, {
								deleteSpeed: 50, delay: 25, loop: false, cursor: '', autoStart: true,
								wrapperClassName: 'mwai-typewriter',
							});
							typewriter.typeString(text).start().callFunction((state) => {
								state.elements.cursor.setAttribute('hidden', 'hidden');
								typewriter.stop();
							});
						}
					}

					conversation.scrollTop = conversation.scrollHeight;
					setButtonText();

					// Syntax coloring
					if (typeof hljs !== 'undefined') {
						document.querySelectorAll('pre code').forEach((el) => {
							hljs.highlightElement(el);
						});
					}
				}

				function buildPrompt(last = 15) {
					let prompt = context ? (context + '\n\n') : '';
					memorizedChat.messages = memorizedChat.messages.slice(-last);

					// Casually fine tuned, let's use the last question
					if (isCasuallyFineTuned) {
						let lastLine = memorizedChat.messages[memorizedChat.messages.length - 1];
						prompt = lastLine.content + promptEnding;
						return prompt;
					}

					// Otherwise let's compile the latest conversation
					let conversation = memorizedChat.messages.map(x => x.who + x.content);
					prompt += conversation.join('\n');
					prompt += '\n' + rawAiName;
					return prompt;
				}

				// Function to request the completion
				function onSendClick() {
					let input = document.querySelector('#mwai-chat-6448707992065 .mwai-input textarea');
					let inputText = input.value.trim();

					// Reset the conversation if empty
					if (inputText === '') {
						clientId = randomStr();
						document.querySelector('#mwai-chat-6448707992065 .mwai-conversation').innerHTML = '';
						localStorage.removeItem('mwai-chat-6448707992065')
						memorizedChat = { clientId: clientId, messages: [] };
						memorizedChat.messages.push({ 
							id: randomStr(),
							role: 'assistant',
							content: startSentence,
							who: rawAiName,
							html: startSentence
						});
						addReply(startSentence, 'assistant');
						return;
					}

					// Disable the button
					var button = document.querySelector('#mwai-chat-6448707992065 .mwai-input button');
					button.disabled = true;

					// Add the user reply
					memorizedChat.messages.push({
						id: randomStr(),
						role: 'user',
						content: inputText,
						who: rawUserName,
						html: inputText
					});
					addReply(inputText, 'user');
					input.value = '';
					input.setAttribute('rows', 1);
					input.disabled = true;

					let prompt = buildPrompt(maxSentences);

					const data = mode === 'images' ? {
						env, session: session,
						prompt: inputText,
						newMessage: inputText,
						model: model,
						maxResults,
						apiKey: apiKey,
						service: service,
						clientId: clientId,
					} : {
						env, session: session,
						prompt: prompt,
						context: context,
						messages: memorizedChat.messages,
						newMessage: inputText,
						userName: userName,
						aiName: aiName,
						model: model,
						temperature: temperature,
						maxTokens: maxTokens,
						maxResults: 1,
						apiKey: apiKey,
						service: service,
						embeddingsIndex: embeddingsIndex,
						stop: stop,
						clientId: clientId,
					};

					// Start the timer
					const stopTimer = injectTimer(button);

					// Send the request
					if (isDebugMode) {
						console.log('[BOT] Sent: ', data);
					}
					fetch(apiURL, { method: 'POST', headers: {
							'Content-Type': 'application/json',
							'X-WP-Nonce': restNonce,
						},
						body: JSON.stringify(data)
					})
					.then(response => response.json())
					.then(data => {
						if (isDebugMode) {
							console.log('[BOT] Recv: ', data);
						}
						if (!data.success) {
							addReply(data.message, 'system');
						}
						else {
							let html = data.images ? data.images : data.html;
							memorizedChat.messages.push({
								id: randomStr(),
								role: 'assistant',
								content: data.answer,
								who: rawAiName,
								html: html
							});
							addReply(html, 'assistant');
						}
						button.disabled = false;
						input.disabled = false;
						stopTimer();

						// Only focus only on desktop (to avoid the mobile keyboard to kick-in)
						if (!isMobile) {
							input.focus();
						}
					})
					.catch(error => {
						console.error(error);
						button.disabled = false;
						input.disabled = false;
						stopTimer();
					});
				}

				// Keep the textarea height in sync with the content
				function resizeTextArea(ev) {
					ev.target.style.height = 'auto';
					ev.target.style.height = ev.target.scrollHeight + 'px';
				}

				// Keep the textarea height in sync with the content
				function delayedResizeTextArea(ev) {
					window.setTimeout(resizeTextArea, 0, event);
				}

				// Init the chatbot
				function initMeowChatbot() {
					var input = document.querySelector('#mwai-chat-6448707992065 .mwai-input textarea');
					var button = document.querySelector('#mwai-chat-6448707992065 .mwai-input button');

					input.addEventListener('keypress', (event) => {
						let text = event.target.value;
						if (event.keyCode === 13 && !text.length && !event.shiftKey) {
							event.preventDefault();
							return;
						}
						if (event.keyCode === 13 && text.length && !event.shiftKey) {
							onSendClick();
						}
					});
					input.addEventListener('keydown', (event) => {
						var rows = input.getAttribute('rows');
						if (event.keyCode === 13 && event.shiftKey) {
							var lines = input.value.split('\n').length + 1;
							//mwaiSetTextAreaHeight(input, lines);
						}
					});
					input.addEventListener('keyup', (event) => {
						var rows = input.getAttribute('rows');
						var lines = input.value.split('\n').length ;
						//mwaiSetTextAreaHeight(input, lines);
						setButtonText();
					});

					input.addEventListener('change', resizeTextArea, false);
					input.addEventListener('cut', delayedResizeTextArea, false);
					input.addEventListener('paste', delayedResizeTextArea, false);
					input.addEventListener('drop', delayedResizeTextArea, false);
					input.addEventListener('keydown', delayedResizeTextArea, false);

					button.addEventListener('click', (event) => {
						onSendClick();
					});

					// If window, add event listener to mwai-open-button and mwai-close-button
					if ( isWindow ) {
						var openButton = document.querySelector('#mwai-chat-6448707992065 .mwai-open-button');
						openButton.addEventListener('click', (event) => {
							var chat = document.querySelector('#mwai-chat-6448707992065');
							chat.classList.add('mwai-open');
							// Only focus only on desktop (to avoid the mobile keyboard to kick-in)
							if (!isMobile) {
								input.focus();
							}
						});
						var closeButton = document.querySelector('#mwai-chat-6448707992065 .mwai-close-button');
						closeButton.addEventListener('click', (event) => {
							var chat = document.querySelector('#mwai-chat-6448707992065');
							chat.classList.remove('mwai-open');
						});
						if (isFullscreen) {
							var resizeButton = document.querySelector('#mwai-chat-6448707992065 .mwai-resize-button');
							resizeButton.addEventListener('click', (event) => {
								var chat = document.querySelector('#mwai-chat-6448707992065');
								chat.classList.toggle('mwai-fullscreen');
							});
						}
					}

					// Get back the previous chat if any for the same ID
					var chatHistory = [];
					if (memorizeChat) {
						chatHistory = localStorage.getItem('mwai-chat-6448707992065');
						if (chatHistory) {
							memorizedChat = JSON.parse(chatHistory);
							if (memorizedChat && memorizedChat.clientId && memorizedChat.messages) {
								clientId = memorizedChat.clientId;
								memorizedChat.messages = memorizedChat.messages.filter(x => x && x.html && x.role);
								memorizedChat.messages.forEach(x => {
									addReply(x.html, x.role, true);
								});
							}
							else {
								memorizedChat = null;
							}
						}
						if (!memorizedChat) {
							memorizedChat = {
								clientId: clientId,
								messages: []
							};
						}
					}
					if (memorizedChat.messages.length === 0) {
						memorizedChat.messages.push({ 
							id: randomStr(),
							role: 'assistant',
							content: startSentence,
							who: rawAiName,
							html: startSentence
						});
						addReply(startSentence, 'assistant');
					}
				}

				// Let's go totally meoooow on this!
				initMeowChatbot();
			})();
			</script>

		
</div><div class="fusion-sharing-box fusion-sharing-box-1 has-taglines layout-floated layout-medium-floated layout-small-stacked" style="background-color:var(--awb-color2);border-color:#cccccc;--awb-separator-border-color:#cccccc;--awb-separator-border-sizes:0px;--awb-layout:row;--awb-alignment-small:space-between;--awb-stacked-align-small:center;" data-title="Chatbot" data-description="PinoyGPT Chatbot
Ask me anything below to get started!    
